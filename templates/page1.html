{% extends "base.html" %}
{% block content %}
<div class="text-center py-5"><h1 class="display-3 fw-bold text-danger mb-3">RSSConnect</h1><p class="lead text-muted fs-3">Bringing You Your Latest News and Information.</p></div>
<div class="row g-4" id="category-grid">
    {% for cat in categories %}
    <div class="col-md-6 col-lg-3">
        <a href="{{ url_for('show_category', category_name=cat) }}" class="text-decoration-none nav-item-card">
            <div class="card h-100 card-hover text-center border-0 shadow-lg">
                <div class="card-body d-flex flex-col flex-column justify-content-center py-5">
                    <i class="fa-solid fa-4x mb-3 text-secondary {% if 'World' in cat %}fa-globe{% elif 'TV' in cat %}fa-tv{% elif 'Comics' in cat %}fa-book-open{% elif 'Music' in cat %}fa-music{% elif 'Game' in cat %}fa-gamepad{% elif 'Tech' in cat %}fa-microchip{% elif 'Food' in cat %}fa-utensils{% else %}fa-star{% endif %}"></i>
                    <h3 class="h4 card-title fw-bold text-danger">{{ cat }}</h3>
                </div>
            </div>
        </a>
    </div>
    {% endfor %}
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const links = Array.from(document.querySelectorAll('.nav-item-card'));
        const cards = Array.from(document.querySelectorAll('.nav-item-card .card'));
        let focusIndex = -1;
        document.addEventListener('keydown', (e) => {
            if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Enter'].includes(e.key)) { e.preventDefault(); } else { return; }
            const cols = window.innerWidth >= 992 ? 4 : (window.innerWidth >= 768 ? 2 : 1);
            if (e.key === 'Enter' && focusIndex !== -1) { links[focusIndex].click(); return; }
            if (focusIndex === -1) { focusIndex = 0; } else { if (e.key === 'ArrowRight') focusIndex++; if (e.key === 'ArrowLeft') focusIndex--; if (e.key === 'ArrowDown') focusIndex += cols; if (e.key === 'ArrowUp') focusIndex -= cols; }
            if (focusIndex < 0) focusIndex = links.length - 1; if (focusIndex >= links.length) focusIndex = 0;
            cards.forEach(c => c.classList.remove('focus-ring'));
            cards[focusIndex].classList.add('focus-ring');
            cards[focusIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
        });
    });
</script>
{% endblock %}